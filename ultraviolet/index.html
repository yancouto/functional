<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="`ultraviolet`"><title>ultraviolet - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-e935ef01ae1c1829.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="ultraviolet" data-themes="" data-resource-suffix="" data-rustdoc-version="1.78.0-nightly (3406ada96 2024-02-21)" data-channel="nightly" data-search-js="search-dd67cee4cfa65049.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-4c98445ec4002617.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-c37d3936c59ababd.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-04d5337699b92874.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../ultraviolet/index.html">ultraviolet</a><span class="version">0.9.2</span></h2></div><div class="sidebar-elems"><ul class="block">
            <li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li></ul></section></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../ultraviolet/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">ultraviolet</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/ultraviolet/lib.rs.html#1-146">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="ultraviolet"><a class="doc-anchor" href="#ultraviolet">§</a><code>ultraviolet</code></h2>
<p>This is a crate to computer-graphics and games-related linear and geometric algebra, but <em>fast</em>, both in terms
of productivity and in terms of runtime performance.</p>
<p>In terms of productivity, ultraviolet uses no generics and is designed to be as straightforward
of an interface as possible, resulting in fast compilation times and clear code. In addition, the
lack of generics and Rust type-system “hacks” result in clear and concise errors that are easy to
parse and fix for the user.</p>
<p>In terms of runtime performance, ultraviolet was designed from the start with performance in mind.
To do so, we provide two separate kinds of each type, each with nearly identical functionality,
one with usual scalar f32 values, and the other a ‘wide’ type which uses SIMD f32x4 vectors for
each value. This design is clear and explicit in intent, and it also allows code to
take full advantage of SIMD.</p>
<p>The ‘wide’ types use an “SoA” (Structure of Arrays) architecture
such that each wide data structure actually contains the data for 4 or 8 of its associated data type and will do any operation
on all of the simd ‘lanes’ at the same time. For example, a <code>Vec3x8</code> is equivalent to 8 <code>Vec3</code>s all bundled together into one
data structure.</p>
<p>Doing this is potentially <em>much</em> (factor of 10) faster than an standard “AoS” (Array of Structs) layout,
though it does depend on your workload and algorithm requirements. Algorithms must be carefully architected to take full advantage
of this, and doing so can be easier said than done, especially if your algorithm involves significant branching.</p>
<p><code>ultraviolet</code> was the first Rust math library to be designed in this “AoSoA” manner, though
<code>nalgebra</code> now supports it for several of their data structures as well.</p>
<h3 id="benchmarks"><a class="doc-anchor" href="#benchmarks">§</a>Benchmarks</h3>
<p>See <a href="https://github.com/bitshifter/mathbench-rs"><code>mathbench-rs</code></a> for latest benchmarks.</p>
<h3 id="cargo-features"><a class="doc-anchor" href="#cargo-features">§</a>Cargo Features</h3>
<p>To help further improve build times, <code>ultraviolet</code> puts various functionality under feature flags. For example, the 2d and 3d projective geometric algebras
as well as f64 and integer types are disabled by default. In order to enable them, enable the corresponding crate feature flags in your <code>Cargo.toml</code>. For example:</p>
<div class="example-wrap"><pre class="language-toml"><code>[dependencies]
ultraviolet = { version = &quot;0.9&quot;, features = [ &quot;f64&quot;, &quot;int&quot; ] }
</code></pre></div>
<p>Will enable the <code>f64</code> and <code>int</code> features. Here’s a list of the available features:</p>
<ul>
<li><code>f64</code> – Enable <code>f64</code> bit wide floating point support. Naming convention is <code>D[Type]</code>, such as <code>DVec3x4</code> would be a collection of 4 3d vectors with <code>f64</code> precision each.</li>
<li><code>int</code> – Enable integer vector types.</li>
<li><code>bytemuck</code> – Enable casting of many types to byte arrays, for use with graphics APIs.</li>
<li><code>mint</code> – Enable interoperation with other math crates through the <code>mint</code> interface.</li>
<li><code>num-traits</code> – Enable <a href="https://docs.rs/num-traits/latest/num_traits/identities/index.html">identity traits</a> for interoperation with other math crates.</li>
<li><code>serde</code> – Enable <code>Serialize</code> and <code>Deserialize</code> implementations for many scalar types.</li>
</ul>
<h3 id="crate-features"><a class="doc-anchor" href="#crate-features">§</a>Crate Features</h3>
<p>This crate is currently being dogfooded in my ray tracer <a href="https://github.com/termhn/rayn"><code>rayn</code></a>,
and is being used by various independent Rust game developers for various projects.
It does what those users have currently needed it to do.</p>
<p>There are a couple relatively unique/novel features in this library, the most important being the use of the Geometric Algebra.</p>
<p>Instead of implementing complex number algebra (for 2d rotations) and Quaternion algebra (for 3d rotations), we use
Rotors, a concept taken from Geometric Algebra, to represent 2d and 3d rotations.</p>
<p>What this means for the programmer is that you will be using the <code>Rotor3</code> type in place of
a Quaternion, though you can expect it to do basically all the same things that a Quaternion does. In fact, Quaternions
are directly isomorphic to Rotors (meaning they are in essense the same thing, just formulated differently). The reason this decision was made was twofold:
first, the derivation of the math is actually quite simple to understand. All the derivations for the code implemented in the Rotor structs in this
library are written out in the <code>derivations</code> folder of the GitHub repo; I derived them manually as part of the implementation.</p>
<p>On the other hand, Quaternions are often basically just seen as black boxes that we programmers use to do rotations because
they have some nice properties, but that we don’t really understand. You can use Rotors this same way, but you can also easily
understand them. Second is that in some sense they can be seen as ‘more correct’ than Quaternions. Specifically, they
facilitate a more proper understanding of rotation as being something that occurs <em>within a plane</em> rather than something
that occurs <em>around an axis</em>, as it is generally thought. Finally, Rotors also generalize to 4 and even higher dimensions,
and if someone wants to they could implement a Rotor4 which retains all the properties of a Rotor3/Quaternion but does rotation
in 4 dimensions instead, something which simply is not possible to do with Quaternions.</p>
<p>If it’s missing something you need it to do, bug me on the <a href="https://github.com/termhn/ultraviolet/issues">GitHub issue tracker</a> and/or Rust community discord server
(I’m Fusha there) and I’ll try to add it for you, if I believe it fits with the vision of the lib :)</p>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><code>pub use <a class="mod" href="bivec/index.html" title="mod ultraviolet::bivec">bivec</a>::*;</code></div></li><li><div class="item-name"><code>pub use <a class="mod" href="interp/index.html" title="mod ultraviolet::interp">interp</a>::*;</code></div></li><li><div class="item-name"><code>pub use <a class="mod" href="mat/index.html" title="mod ultraviolet::mat">mat</a>::*;</code></div></li><li><div class="item-name"><code>pub use <a class="mod" href="rotor/index.html" title="mod ultraviolet::rotor">rotor</a>::*;</code></div></li><li><div class="item-name"><code>pub use <a class="mod" href="transform/index.html" title="mod ultraviolet::transform">transform</a>::*;</code></div></li><li><div class="item-name"><code>pub use <a class="mod" href="vec/index.html" title="mod ultraviolet::vec">vec</a>::*;</code></div></li></ul><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="bivec/index.html" title="mod ultraviolet::bivec">bivec</a></div><div class="desc docblock-short">Bivectors, i.e. oriented areas.</div></li><li><div class="item-name"><a class="mod" href="interp/index.html" title="mod ultraviolet::interp">interp</a></div><div class="desc docblock-short">Interpolation on types for which it makes sense.</div></li><li><div class="item-name"><a class="mod" href="mat/index.html" title="mod ultraviolet::mat">mat</a></div><div class="desc docblock-short">Square matrices.</div></li><li><div class="item-name"><a class="mod" href="projection/index.html" title="mod ultraviolet::projection">projection</a></div><div class="desc docblock-short">Utility functions to create projection matrices.</div></li><li><div class="item-name"><a class="mod" href="rotor/index.html" title="mod ultraviolet::rotor">rotor</a></div><div class="desc docblock-short">Rotors, i.e. constructs that describe and perform rotations.</div></li><li><div class="item-name"><a class="mod" href="transform/index.html" title="mod ultraviolet::transform">transform</a></div><div class="desc docblock-short">Dedicated transformation types as the combination of primitives.</div></li><li><div class="item-name"><a class="mod" href="vec/index.html" title="mod ultraviolet::vec">vec</a></div><div class="desc docblock-short">Vectors and points, i.e. directed line segments and locations.</div></li></ul><h2 id="macros" class="section-header">Macros<a href="#macros" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="macro" href="macro.derive_default_identity.html" title="macro ultraviolet::derive_default_identity">derive_default_identity</a></div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.f32x4.html" title="struct ultraviolet::f32x4">f32x4</a></div></li><li><div class="item-name"><a class="struct" href="struct.f32x8.html" title="struct ultraviolet::f32x8">f32x8</a></div></li><li><div class="item-name"><a class="struct" href="struct.f64x2.html" title="struct ultraviolet::f64x2">f64x2</a></div></li><li><div class="item-name"><a class="struct" href="struct.f64x4.html" title="struct ultraviolet::f64x4">f64x4</a></div></li><li><div class="item-name"><a class="struct" href="struct.m32x4.html" title="struct ultraviolet::m32x4">m32x4</a></div></li><li><div class="item-name"><a class="struct" href="struct.m32x8.html" title="struct ultraviolet::m32x8">m32x8</a></div></li><li><div class="item-name"><a class="struct" href="struct.m64x2.html" title="struct ultraviolet::m64x2">m64x2</a></div></li><li><div class="item-name"><a class="struct" href="struct.m64x4.html" title="struct ultraviolet::m64x4">m64x4</a></div></li></ul></section></div></main></body></html>